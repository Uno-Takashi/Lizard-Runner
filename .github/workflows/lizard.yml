name: Lizard Runner

on: [push]

jobs:
  test-action:
    runs-on: ubuntu-latest
    name: test-action
    steps:
      # To use this repository's private action,
      # you must check out the repository
      - name: Checkout
        uses: actions/checkout@v3
      - name: test-action
        uses: ./ # Uses an action in the root directory
        id: lizard
        with:
          path: "./"
          language: "python cpp"
          whitelist: "white text.txt"
          cli_output_file: "cli output.txt"
      - name: Get the output time
        run: echo -e "${{ steps.lizard.outputs.result_output_path }}"
      - name: Get the output time
        run: echo -e "${{ steps.lizard.outputs.cli_output_path }}"
      - name: Get the output time
        run: ls
      - name: Archive lizard log
        uses: actions/upload-artifact@v2
        with:
          name: "lizard_cli_output"
          path: "${{ steps.lizard.outputs.cli_output_path }}"
